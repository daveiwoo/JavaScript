<html>
<head>
	<title>chapter 17-2-1</title>
</head>
<body>
<div>JS错误处理程序</div>
<image src="iamge.gif">不存在的图像</image>
<script>
	
	function process(values){
		if(!(values instanceof Array)){
			throw new Error("process():Argument must be Array");	//自定义错误类型
		}
		values.sort();
		for(var i=0,len=values.length;i<len;i++){
			if(values[i]>100){
				return values[i];
			}
		}
		return -1;
	}
	window.onerror = function(message,url,line){		//error事件处理程序，不会创建event对象
		console.log(message);
		return true;									//阻止浏览器报告错误的默认行为
	};
	var test1 = "this is a test";
	try{
		process(test1);
	}catch(error){
		console.log("try...catch");
	}
</script>
</body>

</html>
